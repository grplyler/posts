<!DOCTYPE html>
<html lang="en" data-theme=""><head>
    <title> Ryan Plyler | SSH Tunneling </title>

    
    <meta charset="utf-8"><meta name="generator" content="Hugo 0.75.1" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
    <meta name="description" content="Ryan&#39;s technical ramblings, writeups, and other written shenanigans">
    
    <link rel="stylesheet"
          href="/posts.ryanplyler.dev/css/style.min.5be3a155aa89a24586c761b1b5538c4040e3735ee32ac12a708dc1696c0982f5.css"
          integrity="sha256-W&#43;OhVaqJokWGx2GxtVOMQEDjc17jKsEqcI3BaWwJgvU="
          crossorigin="anonymous"
          type="text/css"><link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
          integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    
    <link rel="shortcut icon" href="posts.ryanplyler.dev/favicons/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="posts.ryanplyler.dev/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="posts.ryanplyler.dev/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="posts.ryanplyler.dev/favicons/favicon-16x16.png">

    <link rel="canonical" href="posts.ryanplyler.dev/post/ssh_tunneling/">

    
    
    
    
    <script type="text/javascript"
            src="/posts.ryanplyler.dev/js/anatole-header.min.e782db136ec18d105a4552702eac49f4620d6867da3fbf808bd53e806c96be6e.js"
            integrity="sha256-54LbE27BjRBaRVJwLqxJ9GINaGfaP7&#43;Ai9U&#43;gGyWvm4="
            crossorigin="anonymous"></script>
    <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="posts.ryanplyler.dev/images/site-feature-image.png"/>

<meta name="twitter:title" content="SSH Tunneling"/>
<meta name="twitter:description" content="How to do secure tunneling and local port fowarding with SSH"/>

</head>
<body><div class="sidebar animated fadeInDown">
    <div class="logo-title">
        <div class="title">
            <img src="posts.ryanplyler.dev/images/profile.jpg" alt="profile picture">
            <h3 title=""><a href="/">Ryan Plyler</a></h3>
            <div class="description">
                <p>Ryan&#39;s technical ramblings, writeups, and other written shenanigans</p>
            </div>
        </div>
    </div>
    <ul class="social-links">
        
            <li>
                <a href="https://github.com/grplyler/" rel="me" aria-label="GitHub">
                    <i class="fa fa-2x fa-github" aria-hidden="true"></i>
                </a>
            </li>
        
            <li>
                <a href="" rel="me" aria-label="">
                    <i class="fa fa-2x " aria-hidden="true"></i>
                </a>
            </li>
        
            <li>
                <a href="mailto:grplyler@liberty.edu" rel="me" aria-label="e-mail">
                    <i class="fa fa-2x fa-envelope" aria-hidden="true"></i>
                </a>
            </li>
        
    </ul>
    <div class="footer">
        <div class="by_farbox">&copy; Ryan Plyler 2020 </div>
    </div>
</div>
<div class="main">
    <div class="page-top animated fadeInDown">
    <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
    </a>
    <ul class="nav" id="navMenu">
        
        
            
            <li><a 
                   href="posts.ryanplyler.dev/"
                        
                   title="">Home</a></li>
        
            
            <li><a 
                   href="posts.ryanplyler.dev/post/"
                        
                   title="">Posts</a></li>
        
            
            <li><a 
                   href="posts.ryanplyler.dev/about/"
                        
                   title="">About</a></li>
        
        
        <li class="theme-switch-item">
            <a class="theme-switch" title="Switch Theme">
                <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>

    <div class="autopagerize_page_element">
        <div class="content">
    <div class="post animated fadeInDown">
        <div class="post-content">

            <div class="post-title">
                <h3>SSH Tunneling</h3>
                
                    <div class="info">
                        <em class="fa fa-sun-o"></em>
                        <span class="date">Wed, Sep 16, 2020</span>
                        <em class="fa fa-clock-o"></em>
                        <span class="reading-time">2-minute read</span>
                    </div>
                
            </div>

            <h2 id="ssh-tunneling-port-fowarding">SSH Tunneling (Port Fowarding)</h2>
<p><em>AKA, Poor-mans VPN Method</em></p>
<p><strong>Use Case</strong></p>
<p>Let&rsquo;s say you have secret service running on port <code>4444</code> of you server <code>code.red.com</code> that, I don&rsquo;t
know, is a code scanner with a Web Interface. When you run that scanner, it fires up it&rsquo;s web GUI report
and listens on a local port <code>4444</code></p>
<p>Now, you could open up port 4444 to to the world and just access it via <code>code.red.com:4444</code>. Or
you could remote in via VNC for instance, but that would require a graphical desktop and a VNC service
which can be frought with security issues.</p>
<p>Instead, you can create an SSH tunnel as long as you have SSH credentials and access that will let you
access that service on you local machine, via a forwarded, or tunneled port.</p>
<p><strong>Creating the Tunnel</strong></p>
<p>The following command will create an SSH tunnel from your machine, port 8080 to your server&rsquo;s <em>local</em>, not publically accessible
port <code>4444</code>.</p>
<pre><code>ssh -L 8080:localhost:4444 root@code.red.com
</code></pre><p>If you have ssh access, this will log you in via SSH as usuall, BUT, it will also start listening on a local port <code>8080</code>.</p>
<p><strong>Explanation</strong></p>
<p>The <code>-L</code> instructs ssh to create a <em>local</em> port forward. Note, this is <em>local</em> to the remote machine, so that
can be a bit confusing at first.</p>
<p><code>8080</code> is the port on your local machine that will listen for connections and foward them to port <code>localhost:4444</code> on your server.</p>
<p><code>root@code.red.com</code> is the user account and domain of your server. You could easily use an IP address as well.</p>
<p><strong>Tunneling without a shell</strong></p>
<p>If you just want to forward the port, and dont need shell access, you can use the following command:</p>
<pre><code>ssh -N -L 8080:localhost:4444 root@code.red.com
</code></pre><p>The <code>-N</code> just means, &ldquo;no login&rdquo; and ssh will continue to hold that connection until you <code>Ctrl-C</code> out of it.</p>
<h3 id="conclusion">Conclusion</h3>
<p>A nice perk of this methods is that your connection to whatever service is encrpted with the same security as an SSH connection. This allows you to securely access and potentially insecure service from the inside. There are also other kinds of SSH tunneling and port forwarding that I encourage you to look into, but those are beyond the scope of this little writeup.</p>

        </div>
        <div class="post-footer">
            <div class="info">
                <span class="separator"><a class="category" href="/posts.ryanplyler.dev/categories/networking/">networking</a></span>

                <span class="separator"><a class="tag" href="/posts.ryanplyler.dev/tags/ssh/">ssh</a><a class="tag" href="/posts.ryanplyler.dev/tags/shell/">shell</a><a class="tag" href="/posts.ryanplyler.dev/tags/bash/">bash</a><a class="tag" href="/posts.ryanplyler.dev/tags/security/">security</a><a class="tag" href="/posts.ryanplyler.dev/tags/networking/">networking</a></span>

            </div>
        </div>

        
            
        
    </div>


        </div>
    </div>
</div>

<script type="text/javascript"
        src="/posts.ryanplyler.dev/js/jquery.min.86b1e8f819ee2d9099a783e50b49dff24282545fc40773861f9126b921532e4c.js"
        integrity="sha256-hrHo&#43;BnuLZCZp4PlC0nf8kKCVF/EB3OGH5EmuSFTLkw="
        crossorigin="anonymous"></script>




<script type="text/javascript"
        src="/posts.ryanplyler.dev/js/bundle.min.0f9c74cb78f13d1f15f33daff4037c70354f98acfbb97a6f61708966675c3cae.js"
        integrity="sha256-D5x0y3jxPR8V8z2v9AN8cDVPmKz7uXpvYXCJZmdcPK4="
        crossorigin="anonymous"></script>

<script type="text/javascript"
        src="/posts.ryanplyler.dev/js/medium-zoom.min.92f21c856129f84aeb719459b3e6ac621a3032fd7b180a18c04e1d12083f8aba.js"
        integrity="sha256-kvIchWEp&#43;ErrcZRZs&#43;asYhowMv17GAoYwE4dEgg/iro="
        crossorigin="anonymous"></script>
</body>

</html>
